circuit Router :
  module Router :
    input clock : Clock
    input reset : UInt<1>
    input io_in_U_read : UInt<1>
    input io_in_U_din : UInt<32>
    input io_in_D_read : UInt<1>
    input io_in_D_din : UInt<32>
    input io_in_L_read : UInt<1>
    input io_in_L_din : UInt<32>
    input io_in_R_read : UInt<1>
    input io_in_R_din : UInt<32>
    output io_out_U_write : UInt<1>
    output io_out_U_dout : UInt<32>
    output io_out_D_write : UInt<1>
    output io_out_D_dout : UInt<32>
    output io_out_L_write : UInt<1>
    output io_out_L_dout : UInt<32>
    output io_out_R_write : UInt<1>
    output io_out_R_dout : UInt<32>
    input io_x : UInt<2>
    input io_y : UInt<2>
  
    reg som : UInt<1>, clock with :
      reset => (UInt<1>("h0"), som) @[Router.scala 42:20]
    reg dataReg_U : UInt<32>, clock with :
      reset => (UInt<1>("h0"), dataReg_U) @[Router.scala 63:26]
    reg dataReg_D : UInt<32>, clock with :
      reset => (UInt<1>("h0"), dataReg_D) @[Router.scala 64:26]
    reg dataReg_L : UInt<32>, clock with :
      reset => (UInt<1>("h0"), dataReg_L) @[Router.scala 65:26]
    reg dataReg_R : UInt<32>, clock with :
      reset => (UInt<1>("h0"), dataReg_R) @[Router.scala 66:26]
    node _T = bits(dataReg_U, 1, 0) @[Router.scala 71:36]
    node _T_1 = bits(dataReg_U, 3, 2) @[Router.scala 72:36]
    node _T_2 = gt(_T, io_x) @[Router.scala 74:26]
    node _T_3 = lt(_T, io_x) @[Router.scala 76:33]
    node _T_4 = gt(_T_1, io_y) @[Router.scala 79:29]
    node _T_5 = lt(_T_1, io_y) @[Router.scala 81:35]
    node _GEN_0 = mux(_T_5, UInt<1>("h1"), UInt<1>("h0")) @[Router.scala 81:43]
    node _GEN_1 = mux(_T_4, UInt<1>("h1"), UInt<1>("h0")) @[Router.scala 79:37]
    node _GEN_2 = mux(_T_4, UInt<1>("h0"), _GEN_0) @[Router.scala 79:37]
    node _GEN_3 = mux(_T_3, UInt<1>("h1"), UInt<1>("h0")) @[Router.scala 76:41]
    node _GEN_4 = mux(_T_3, UInt<1>("h0"), _GEN_1) @[Router.scala 76:41]
    node _GEN_5 = mux(_T_3, UInt<1>("h0"), _GEN_2) @[Router.scala 76:41]
    node _GEN_6 = mux(_T_2, UInt<1>("h1"), UInt<1>("h0")) @[Router.scala 74:34]
    node _GEN_7 = mux(_T_2, UInt<1>("h0"), _GEN_3) @[Router.scala 74:34]
    node _GEN_8 = mux(_T_2, UInt<1>("h0"), _GEN_4) @[Router.scala 74:34]
    node _GEN_9 = mux(_T_2, UInt<1>("h0"), _GEN_5) @[Router.scala 74:34]
    node out_R_dout = UInt<32>("h0")
    node _GEN_10 = mux(io_out_R_write, dataReg_U, out_R_dout) @[Router.scala 90:34]
    node out_L_dout = UInt<32>("h0")
    node _GEN_11 = mux(io_out_L_write, dataReg_U, out_L_dout) @[Router.scala 88:33]
    node _GEN_12 = mux(io_out_L_write, out_R_dout, _GEN_10) @[Router.scala 88:33]
    node out_D_dout = UInt<32>("h0")
    node _GEN_13 = mux(io_out_D_write, dataReg_U, out_D_dout) @[Router.scala 86:27]
    node _GEN_14 = mux(io_out_D_write, out_L_dout, _GEN_11) @[Router.scala 86:27]
    node _GEN_15 = mux(io_out_D_write, out_R_dout, _GEN_12) @[Router.scala 86:27]
    node _T_6 = bits(dataReg_D, 31, 30) @[Router.scala 96:36]
    node _T_7 = bits(dataReg_D, 29, 28) @[Router.scala 97:36]
    node _T_8 = gt(_T_6, io_x) @[Router.scala 98:26]
    node _T_9 = lt(_T_6, io_x) @[Router.scala 100:33]
    node _T_10 = gt(_T_7, io_y) @[Router.scala 103:29]
    node _T_11 = lt(_T_7, io_y) @[Router.scala 105:35]
    node _GEN_16 = mux(_T_11, UInt<1>("h1"), UInt<1>("h0")) @[Router.scala 105:43]
    node _GEN_17 = mux(_T_10, UInt<1>("h1"), UInt<1>("h0")) @[Router.scala 103:37]
    node _GEN_18 = mux(_T_10, UInt<1>("h0"), _GEN_16) @[Router.scala 103:37]
    node _GEN_19 = mux(_T_9, UInt<1>("h1"), UInt<1>("h0")) @[Router.scala 100:41]
    node _GEN_20 = mux(_T_9, UInt<1>("h0"), _GEN_17) @[Router.scala 100:41]
    node _GEN_21 = mux(_T_9, UInt<1>("h0"), _GEN_18) @[Router.scala 100:41]
    node _GEN_22 = mux(_T_8, UInt<1>("h1"), UInt<1>("h0")) @[Router.scala 98:34]
    node _GEN_23 = mux(_T_8, UInt<1>("h0"), _GEN_19) @[Router.scala 98:34]
    node _GEN_24 = mux(_T_8, UInt<1>("h0"), _GEN_20) @[Router.scala 98:34]
    node _GEN_25 = mux(_T_8, UInt<1>("h0"), _GEN_21) @[Router.scala 98:34]
    node _GEN_26 = mux(io_out_R_write, dataReg_D, out_R_dout) @[Router.scala 114:34]
    node _GEN_27 = mux(io_out_L_write, dataReg_D, out_L_dout) @[Router.scala 112:33]
    node _GEN_28 = mux(io_out_L_write, out_R_dout, _GEN_26) @[Router.scala 112:33]
    node out_U_dout = UInt<32>("h0")
    node _GEN_29 = mux(io_out_U_write, dataReg_D, out_U_dout) @[Router.scala 110:27]
    node _GEN_30 = mux(io_out_U_write, out_L_dout, _GEN_27) @[Router.scala 110:27]
    node _GEN_31 = mux(io_out_U_write, out_R_dout, _GEN_28) @[Router.scala 110:27]
    node _T_12 = bits(dataReg_L, 31, 30) @[Router.scala 119:36]
    node _T_13 = bits(dataReg_L, 29, 28) @[Router.scala 120:36]
    node _T_14 = gt(_T_12, io_x) @[Router.scala 122:26]
    node _T_15 = lt(_T_12, io_x) @[Router.scala 124:33]
    node _T_16 = gt(_T_13, io_y) @[Router.scala 127:29]
    node _T_17 = lt(_T_13, io_y) @[Router.scala 129:35]
    node _GEN_32 = mux(_T_17, UInt<1>("h1"), UInt<1>("h0")) @[Router.scala 129:43]
    node _GEN_33 = mux(_T_16, UInt<1>("h1"), UInt<1>("h0")) @[Router.scala 127:37]
    node _GEN_34 = mux(_T_16, UInt<1>("h0"), _GEN_32) @[Router.scala 127:37]
    node _GEN_35 = mux(_T_15, UInt<1>("h1"), UInt<1>("h0")) @[Router.scala 124:41]
    node _GEN_36 = mux(_T_15, UInt<1>("h0"), _GEN_33) @[Router.scala 124:41]
    node _GEN_37 = mux(_T_15, UInt<1>("h0"), _GEN_34) @[Router.scala 124:41]
    node _GEN_38 = mux(_T_14, UInt<1>("h1"), UInt<1>("h0")) @[Router.scala 122:34]
    node _GEN_39 = mux(_T_14, UInt<1>("h0"), _GEN_35) @[Router.scala 122:34]
    node _GEN_40 = mux(_T_14, UInt<1>("h0"), _GEN_36) @[Router.scala 122:34]
    node _GEN_41 = mux(_T_14, UInt<1>("h0"), _GEN_37) @[Router.scala 122:34]
    node _GEN_42 = mux(io_out_R_write, dataReg_L, out_R_dout) @[Router.scala 137:34]
    node _GEN_43 = mux(io_out_U_write, dataReg_L, out_U_dout) @[Router.scala 135:33]
    node _GEN_44 = mux(io_out_U_write, out_R_dout, _GEN_42) @[Router.scala 135:33]
    node _GEN_45 = mux(io_out_D_write, dataReg_L, out_D_dout) @[Router.scala 133:27]
    node _GEN_46 = mux(io_out_D_write, out_U_dout, _GEN_43) @[Router.scala 133:27]
    node _GEN_47 = mux(io_out_D_write, out_R_dout, _GEN_44) @[Router.scala 133:27]
    node _T_18 = bits(dataReg_R, 31, 30) @[Router.scala 142:36]
    node _T_19 = bits(dataReg_R, 29, 28) @[Router.scala 143:36]
    node _T_20 = gt(_T_18, io_x) @[Router.scala 145:26]
    node _T_21 = lt(_T_18, io_x) @[Router.scala 147:33]
    node _T_22 = gt(_T_19, io_y) @[Router.scala 150:29]
    node _T_23 = lt(_T_19, io_y) @[Router.scala 152:35]
    node _GEN_48 = mux(_T_23, UInt<1>("h1"), UInt<1>("h0")) @[Router.scala 152:43]
    node _GEN_49 = mux(_T_22, UInt<1>("h1"), UInt<1>("h0")) @[Router.scala 150:37]
    node _GEN_50 = mux(_T_22, UInt<1>("h0"), _GEN_48) @[Router.scala 150:37]
    node _GEN_51 = mux(_T_21, UInt<1>("h1"), UInt<1>("h0")) @[Router.scala 147:41]
    node _GEN_52 = mux(_T_21, UInt<1>("h0"), _GEN_49) @[Router.scala 147:41]
    node _GEN_53 = mux(_T_21, UInt<1>("h0"), _GEN_50) @[Router.scala 147:41]
    node _GEN_54 = mux(_T_20, UInt<1>("h1"), UInt<1>("h0")) @[Router.scala 145:34]
    node _GEN_55 = mux(_T_20, UInt<1>("h0"), _GEN_51) @[Router.scala 145:34]
    node _GEN_56 = mux(_T_20, UInt<1>("h0"), _GEN_52) @[Router.scala 145:34]
    node _GEN_57 = mux(_T_20, UInt<1>("h0"), _GEN_53) @[Router.scala 145:34]
    node _GEN_58 = mux(io_out_U_write, dataReg_R, out_U_dout) @[Router.scala 160:34]
    node _GEN_59 = mux(io_out_L_write, dataReg_R, out_L_dout) @[Router.scala 158:33]
    node _GEN_60 = mux(io_out_L_write, out_U_dout, _GEN_58) @[Router.scala 158:33]
    node _GEN_61 = mux(io_out_D_write, dataReg_R, out_D_dout) @[Router.scala 156:27]
    node _GEN_62 = mux(io_out_D_write, out_L_dout, _GEN_59) @[Router.scala 156:27]
    node _GEN_63 = mux(io_out_D_write, out_U_dout, _GEN_60) @[Router.scala 156:27]
    node _GEN_64 = mux(io_in_R_read, io_in_R_din, dataReg_R) @[Router.scala 140:30]
    node _GEN_65 = mux(io_in_R_read, _GEN_54, UInt<1>("h0")) @[Router.scala 140:30]
    node _GEN_66 = mux(io_in_R_read, _GEN_55, UInt<1>("h0")) @[Router.scala 140:30]
    node _GEN_67 = mux(io_in_R_read, _GEN_56, UInt<1>("h0")) @[Router.scala 140:30]
    node _GEN_68 = mux(io_in_R_read, _GEN_57, UInt<1>("h0")) @[Router.scala 140:30]
    node _GEN_69 = mux(io_in_R_read, _GEN_61, out_D_dout) @[Router.scala 140:30]
    node _GEN_70 = mux(io_in_R_read, _GEN_62, out_L_dout) @[Router.scala 140:30]
    node _GEN_71 = mux(io_in_R_read, _GEN_63, out_U_dout) @[Router.scala 140:30]
    node _GEN_72 = mux(io_in_L_read, io_in_L_din, dataReg_L) @[Router.scala 117:30]
    node _GEN_73 = mux(io_in_L_read, _GEN_38, _GEN_65) @[Router.scala 117:30]
    node _GEN_74 = mux(io_in_L_read, _GEN_39, _GEN_66) @[Router.scala 117:30]
    node _GEN_75 = mux(io_in_L_read, _GEN_40, _GEN_67) @[Router.scala 117:30]
    node _GEN_76 = mux(io_in_L_read, _GEN_41, _GEN_68) @[Router.scala 117:30]
    node _GEN_77 = mux(io_in_L_read, _GEN_45, _GEN_69) @[Router.scala 117:30]
    node _GEN_78 = mux(io_in_L_read, _GEN_46, _GEN_71) @[Router.scala 117:30]
    node _GEN_79 = mux(io_in_L_read, _GEN_47, out_R_dout) @[Router.scala 117:30]
    node _GEN_80 = mux(io_in_L_read, dataReg_R, _GEN_64) @[Router.scala 117:30]
    node _GEN_81 = mux(io_in_L_read, out_L_dout, _GEN_70) @[Router.scala 117:30]
    node _GEN_82 = mux(io_in_D_read, io_in_D_din, dataReg_D) @[Router.scala 94:31]
    node _GEN_83 = mux(io_in_D_read, _GEN_22, _GEN_73) @[Router.scala 94:31]
    node _GEN_84 = mux(io_in_D_read, _GEN_23, _GEN_74) @[Router.scala 94:31]
    node _GEN_85 = mux(io_in_D_read, _GEN_24, _GEN_75) @[Router.scala 94:31]
    node _GEN_86 = mux(io_in_D_read, _GEN_25, _GEN_76) @[Router.scala 94:31]
    node _GEN_87 = mux(io_in_D_read, _GEN_29, _GEN_78) @[Router.scala 94:31]
    node _GEN_88 = mux(io_in_D_read, _GEN_30, _GEN_81) @[Router.scala 94:31]
    node _GEN_89 = mux(io_in_D_read, _GEN_31, _GEN_79) @[Router.scala 94:31]
    node _GEN_90 = mux(io_in_D_read, dataReg_L, _GEN_72) @[Router.scala 94:31]
    node _GEN_91 = mux(io_in_D_read, out_D_dout, _GEN_77) @[Router.scala 94:31]
    node _GEN_92 = mux(io_in_D_read, dataReg_R, _GEN_80) @[Router.scala 94:31]
    node _GEN_93 = mux(io_in_U_read, io_in_U_din, dataReg_U) @[Router.scala 69:25]
    node _GEN_94 = mux(io_in_U_read, _GEN_6, _GEN_83) @[Router.scala 69:25]
    node _GEN_95 = mux(io_in_U_read, _GEN_7, _GEN_84) @[Router.scala 69:25]
    node _GEN_96 = mux(io_in_U_read, _GEN_8, _GEN_85) @[Router.scala 69:25]
    node _GEN_97 = mux(io_in_U_read, _GEN_9, _GEN_86) @[Router.scala 69:25]
    node _GEN_98 = mux(io_in_U_read, _GEN_13, _GEN_91) @[Router.scala 69:25]
    node _GEN_99 = mux(io_in_U_read, _GEN_14, _GEN_88) @[Router.scala 69:25]
    node _GEN_100 = mux(io_in_U_read, _GEN_15, _GEN_89) @[Router.scala 69:25]
    node _GEN_101 = mux(io_in_U_read, dataReg_D, _GEN_82) @[Router.scala 69:25]
    node _GEN_102 = mux(io_in_U_read, out_U_dout, _GEN_87) @[Router.scala 69:25]
    node _GEN_103 = mux(io_in_U_read, dataReg_L, _GEN_90) @[Router.scala 69:25]
    node _GEN_104 = mux(io_in_U_read, dataReg_R, _GEN_92) @[Router.scala 69:25]
    node dataReg = UInt<1>("h0")
    io_out_U_write <= _GEN_97 @[Router.scala 54:18 Router.scala 82:26 Router.scala 106:26 Router.scala 130:26 Router.scala 153:26]
    io_out_U_dout <= _GEN_102 @[Router.scala 49:17 Router.scala 111:23 Router.scala 136:23 Router.scala 161:23]
    io_out_D_write <= _GEN_96 @[Router.scala 55:18 Router.scala 80:26 Router.scala 104:26 Router.scala 128:26 Router.scala 151:26]
    io_out_D_dout <= _GEN_98 @[Router.scala 50:17 Router.scala 87:23 Router.scala 134:23 Router.scala 157:23]
    io_out_L_write <= _GEN_95 @[Router.scala 56:18 Router.scala 77:24 Router.scala 101:24 Router.scala 125:24 Router.scala 148:24]
    io_out_L_dout <= _GEN_99 @[Router.scala 51:17 Router.scala 89:23 Router.scala 113:23 Router.scala 159:23]
    io_out_R_write <= _GEN_94 @[Router.scala 57:18 Router.scala 75:24 Router.scala 99:24 Router.scala 123:24 Router.scala 146:24]
    io_out_R_dout <= _GEN_100 @[Router.scala 52:17 Router.scala 91:23 Router.scala 115:23 Router.scala 138:23]
    som <= mux(reset, UInt<1>("h0"), som)
    dataReg_U <= mux(reset, UInt<32>("h0"), _GEN_93) @[Router.scala 70:17]
    dataReg_D <= mux(reset, UInt<32>("h0"), _GEN_101) @[Router.scala 95:17]
    dataReg_L <= mux(reset, UInt<32>("h0"), _GEN_103) @[Router.scala 118:17]
    dataReg_R <= mux(reset, UInt<32>("h0"), _GEN_104) @[Router.scala 141:17]
