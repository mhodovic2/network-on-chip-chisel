circuit Router :
  module Router :
    input clock : Clock
    input reset : UInt<1>
    input io_in_U_read : UInt<1>
    input io_in_U_din : UInt<5>
    input io_in_D_read : UInt<1>
    input io_in_D_din : UInt<5>
    input io_in_L_read : UInt<1>
    input io_in_L_din : UInt<5>
    input io_in_R_read : UInt<1>
    input io_in_R_din : UInt<5>
    output io_out_U_write : UInt<1>
    output io_out_U_dout : UInt<5>
    output io_out_D_write : UInt<1>
    output io_out_D_dout : UInt<5>
    output io_out_L_write : UInt<1>
    output io_out_L_dout : UInt<5>
    output io_out_R_write : UInt<1>
    output io_out_R_dout : UInt<5>
  
    reg upReg : UInt<1>, clock with :
      reset => (UInt<1>("h0"), upReg) @[Router.scala 37:22]
    reg dataReg_U : UInt<5>, clock with :
      reset => (UInt<1>("h0"), dataReg_U) @[Router.scala 44:26]
    reg dataReg_D : UInt<5>, clock with :
      reset => (UInt<1>("h0"), dataReg_D) @[Router.scala 45:26]
    reg dataReg_L : UInt<5>, clock with :
      reset => (UInt<1>("h0"), dataReg_L) @[Router.scala 46:26]
    reg dataReg_R : UInt<5>, clock with :
      reset => (UInt<1>("h0"), dataReg_R) @[Router.scala 47:26]
    node _T = bits(reset, 0, 0) @[Router.scala 49:9]
    node _T_1 = eq(_T, UInt<1>("h0")) @[Router.scala 49:9]
    node _T_2 = bits(reset, 0, 0) @[Router.scala 50:9]
    node _T_3 = eq(_T_2, UInt<1>("h0")) @[Router.scala 50:9]
    node _T_4 = bits(reset, 0, 0) @[Router.scala 51:9]
    node _T_5 = eq(_T_4, UInt<1>("h0")) @[Router.scala 51:9]
    node _T_6 = bits(reset, 0, 0) @[Router.scala 52:9]
    node _T_7 = eq(_T_6, UInt<1>("h0")) @[Router.scala 52:9]
    node _T_8 = bits(reset, 0, 0) @[Router.scala 60:11]
    node _T_9 = eq(_T_8, UInt<1>("h0")) @[Router.scala 60:11]
    node _T_10 = bits(reset, 0, 0) @[Router.scala 61:11]
    node _T_11 = eq(_T_10, UInt<1>("h0")) @[Router.scala 61:11]
    node _T_12 = bits(reset, 0, 0) @[Router.scala 63:11]
    node _T_13 = eq(_T_12, UInt<1>("h0")) @[Router.scala 63:11]
    node _T_14 = bits(reset, 0, 0) @[Router.scala 65:11]
    node _T_15 = eq(_T_14, UInt<1>("h0")) @[Router.scala 65:11]
    node _T_16 = bits(reset, 0, 0) @[Router.scala 66:11]
    node _T_17 = eq(_T_16, UInt<1>("h0")) @[Router.scala 66:11]
    node _T_18 = add(dataReg_R, dataReg_D) @[Router.scala 70:30]
    node _T_19 = tail(_T_18, 1) @[Router.scala 70:30]
    node _T_20 = add(_T_19, dataReg_L) @[Router.scala 70:42]
    node _T_21 = tail(_T_20, 1) @[Router.scala 70:42]
    node _T_22 = bits(reset, 0, 0) @[Router.scala 71:13]
    node _T_23 = eq(_T_22, UInt<1>("h0")) @[Router.scala 71:13]
    node _T_24 = add(dataReg_U, dataReg_R) @[Router.scala 75:30]
    node _T_25 = tail(_T_24, 1) @[Router.scala 75:30]
    node _T_26 = add(_T_25, dataReg_L) @[Router.scala 75:42]
    node _T_27 = tail(_T_26, 1) @[Router.scala 75:42]
    node _T_28 = bits(reset, 0, 0) @[Router.scala 76:13]
    node _T_29 = eq(_T_28, UInt<1>("h0")) @[Router.scala 76:13]
    node _T_30 = add(dataReg_U, dataReg_D) @[Router.scala 80:30]
    node _T_31 = tail(_T_30, 1) @[Router.scala 80:30]
    node _T_32 = add(_T_31, dataReg_R) @[Router.scala 80:42]
    node _T_33 = tail(_T_32, 1) @[Router.scala 80:42]
    node _T_34 = bits(reset, 0, 0) @[Router.scala 81:13]
    node _T_35 = eq(_T_34, UInt<1>("h0")) @[Router.scala 81:13]
    node _T_36 = bits(reset, 0, 0) @[Router.scala 85:13]
    node _T_37 = eq(_T_36, UInt<1>("h0")) @[Router.scala 85:13]
    node _T_38 = bits(reset, 0, 0) @[Router.scala 86:13]
    node _T_39 = eq(_T_38, UInt<1>("h0")) @[Router.scala 86:13]
    node _T_40 = bits(reset, 0, 0) @[Router.scala 87:13]
    node _T_41 = eq(_T_40, UInt<1>("h0")) @[Router.scala 87:13]
    node _T_42 = bits(reset, 0, 0) @[Router.scala 88:13]
    node _T_43 = eq(_T_42, UInt<1>("h0")) @[Router.scala 88:13]
    node _T_44 = add(dataReg_U, dataReg_D) @[Router.scala 90:30]
    node _T_45 = tail(_T_44, 1) @[Router.scala 90:30]
    node _T_46 = add(_T_45, dataReg_L) @[Router.scala 90:42]
    node _T_47 = tail(_T_46, 1) @[Router.scala 90:42]
    node _T_48 = bits(reset, 0, 0) @[Router.scala 93:13]
    node _T_49 = eq(_T_48, UInt<1>("h0")) @[Router.scala 93:13]
    node _T_50 = bits(reset, 0, 0) @[Router.scala 94:13]
    node _T_51 = eq(_T_50, UInt<1>("h0")) @[Router.scala 94:13]
    node _GEN_0 = mux(io_out_R_write, _T_47, dataReg_R) @[Router.scala 83:32]
    node _GEN_1 = mux(io_out_L_write, _T_33, dataReg_L) @[Router.scala 78:32]
    node _GEN_2 = mux(io_out_L_write, dataReg_R, _GEN_0) @[Router.scala 78:32]
    node _GEN_3 = mux(io_out_D_write, _T_27, dataReg_D) @[Router.scala 73:32]
    node _GEN_4 = mux(io_out_D_write, dataReg_L, _GEN_1) @[Router.scala 73:32]
    node _GEN_5 = mux(io_out_D_write, dataReg_R, _GEN_2) @[Router.scala 73:32]
    node _GEN_6 = mux(io_out_U_write, _T_21, io_in_U_din) @[Router.scala 68:26]
    node _GEN_7 = mux(io_out_U_write, dataReg_D, _GEN_3) @[Router.scala 68:26]
    node _GEN_8 = mux(io_out_U_write, dataReg_L, _GEN_4) @[Router.scala 68:26]
    node _GEN_9 = mux(io_out_U_write, dataReg_R, _GEN_5) @[Router.scala 68:26]
    node _T_52 = bits(reset, 0, 0) @[Router.scala 100:11]
    node _T_53 = eq(_T_52, UInt<1>("h0")) @[Router.scala 100:11]
    node _T_54 = bits(reset, 0, 0) @[Router.scala 101:11]
    node _T_55 = eq(_T_54, UInt<1>("h0")) @[Router.scala 101:11]
    node _T_56 = bits(reset, 0, 0) @[Router.scala 106:11]
    node _T_57 = eq(_T_56, UInt<1>("h0")) @[Router.scala 106:11]
    node _T_58 = bits(reset, 0, 0) @[Router.scala 107:11]
    node _T_59 = eq(_T_58, UInt<1>("h0")) @[Router.scala 107:11]
    node _T_60 = bits(reset, 0, 0) @[Router.scala 112:11]
    node _T_61 = eq(_T_60, UInt<1>("h0")) @[Router.scala 112:11]
    node _T_62 = bits(reset, 0, 0) @[Router.scala 113:11]
    node _T_63 = eq(_T_62, UInt<1>("h0")) @[Router.scala 113:11]
    node _GEN_10 = mux(io_in_R_read, io_in_R_din, dataReg_R) @[Router.scala 109:28]
    node _GEN_11 = mux(io_in_L_read, io_in_L_din, dataReg_L) @[Router.scala 103:28]
    node _GEN_12 = mux(io_in_L_read, dataReg_R, _GEN_10) @[Router.scala 103:28]
    node _GEN_13 = mux(io_in_D_read, io_in_D_din, dataReg_D) @[Router.scala 97:28]
    node _GEN_14 = mux(io_in_D_read, dataReg_L, _GEN_11) @[Router.scala 97:28]
    node _GEN_15 = mux(io_in_D_read, dataReg_R, _GEN_12) @[Router.scala 97:28]
    node _GEN_16 = mux(io_in_U_read, _GEN_6, dataReg_U) @[Router.scala 59:23]
    node _GEN_17 = mux(io_in_U_read, UInt<1>("h1"), UInt<1>("h0")) @[Router.scala 59:23]
    node _GEN_18 = mux(io_in_U_read, _GEN_7, _GEN_13) @[Router.scala 59:23]
    node _GEN_19 = mux(io_in_U_read, _GEN_8, _GEN_14) @[Router.scala 59:23]
    node _GEN_20 = mux(io_in_U_read, _GEN_9, _GEN_15) @[Router.scala 59:23]
    io_out_U_write <= UInt<1>("h0") @[Router.scala 39:18]
    io_out_U_dout <= dataReg_U @[Router.scala 54:17]
    io_out_D_write <= UInt<1>("h0") @[Router.scala 40:18]
    io_out_D_dout <= dataReg_D @[Router.scala 55:17]
    io_out_L_write <= UInt<1>("h0") @[Router.scala 41:18]
    io_out_L_dout <= dataReg_L @[Router.scala 56:17]
    io_out_R_write <= _GEN_17 @[Router.scala 42:18 Router.scala 64:20]
    io_out_R_dout <= dataReg_R @[Router.scala 57:17]
    upReg <= mux(reset, UInt<1>("h0"), upReg)
    dataReg_U <= mux(reset, UInt<5>("h0"), _GEN_16) @[Router.scala 62:15 Router.scala 70:17]
    dataReg_D <= mux(reset, UInt<5>("h0"), _GEN_18) @[Router.scala 75:17 Router.scala 99:15]
    dataReg_L <= mux(reset, UInt<5>("h0"), _GEN_19) @[Router.scala 80:17 Router.scala 105:15]
    dataReg_R <= mux(reset, UInt<5>("h0"), _GEN_20) @[Router.scala 90:17 Router.scala 111:15]
    printf(clock, and(and(UInt<1>("h1"), _T_1), UInt<1>("h1")), "data reg U = %d\n", dataReg_U) @[Router.scala 49:9]
    printf(clock, and(and(UInt<1>("h1"), _T_3), UInt<1>("h1")), "data reg D = %d\n", dataReg_D) @[Router.scala 50:9]
    printf(clock, and(and(UInt<1>("h1"), _T_5), UInt<1>("h1")), "data reg L = %d\n", dataReg_L) @[Router.scala 51:9]
    printf(clock, and(and(UInt<1>("h1"), _T_7), UInt<1>("h1")), "data reg R = %d\n", dataReg_R) @[Router.scala 52:9]
    printf(clock, and(and(and(UInt<1>("h1"), io_in_U_read), _T_9), UInt<1>("h1")), "in U din = %d\n", io_in_U_din) @[Router.scala 60:11]
    printf(clock, and(and(and(UInt<1>("h1"), io_in_U_read), _T_11), UInt<1>("h1")), "in U dout 1 = %d\n", io_out_U_dout) @[Router.scala 61:11]
    printf(clock, and(and(and(UInt<1>("h1"), io_in_U_read), _T_13), UInt<1>("h1")), "data reg U = %d\n", dataReg_U) @[Router.scala 63:11]
    printf(clock, and(and(and(UInt<1>("h1"), io_in_U_read), _T_15), UInt<1>("h1")), "U_R = %d\n", io_in_U_read) @[Router.scala 65:11]
    printf(clock, and(and(and(UInt<1>("h1"), io_in_U_read), _T_17), UInt<1>("h1")), "U_W = %d\n", io_out_U_write) @[Router.scala 66:11]
    printf(clock, and(and(and(and(UInt<1>("h1"), io_in_U_read), io_out_U_write), _T_23), UInt<1>("h1")), "in U dout 2 = %d\n", io_out_U_dout) @[Router.scala 71:13]
    printf(clock, and(and(and(and(and(UInt<1>("h1"), io_in_U_read), eq(io_out_U_write, UInt<1>("h0"))), io_out_D_write), _T_29), UInt<1>("h1")), "in U dout 3 = %d\n", io_out_U_dout) @[Router.scala 76:13]
    printf(clock, and(and(and(and(and(and(UInt<1>("h1"), io_in_U_read), eq(io_out_U_write, UInt<1>("h0"))), eq(io_out_D_write, UInt<1>("h0"))), io_out_L_write), _T_35), UInt<1>("h1")), "in U dout 4 = %d\n", io_out_U_dout) @[Router.scala 81:13]
    printf(clock, and(and(and(and(and(and(and(UInt<1>("h1"), io_in_U_read), eq(io_out_U_write, UInt<1>("h0"))), eq(io_out_D_write, UInt<1>("h0"))), eq(io_out_L_write, UInt<1>("h0"))), io_out_R_write), _T_37), UInt<1>("h1")), "data reg U = %d\n", dataReg_U) @[Router.scala 85:13]
    printf(clock, and(and(and(and(and(and(and(UInt<1>("h1"), io_in_U_read), eq(io_out_U_write, UInt<1>("h0"))), eq(io_out_D_write, UInt<1>("h0"))), eq(io_out_L_write, UInt<1>("h0"))), io_out_R_write), _T_39), UInt<1>("h1")), "data reg D = %d\n", dataReg_D) @[Router.scala 86:13]
    printf(clock, and(and(and(and(and(and(and(UInt<1>("h1"), io_in_U_read), eq(io_out_U_write, UInt<1>("h0"))), eq(io_out_D_write, UInt<1>("h0"))), eq(io_out_L_write, UInt<1>("h0"))), io_out_R_write), _T_41), UInt<1>("h1")), "data reg L = %d\n", dataReg_L) @[Router.scala 87:13]
    printf(clock, and(and(and(and(and(and(and(UInt<1>("h1"), io_in_U_read), eq(io_out_U_write, UInt<1>("h0"))), eq(io_out_D_write, UInt<1>("h0"))), eq(io_out_L_write, UInt<1>("h0"))), io_out_R_write), _T_43), UInt<1>("h1")), "data reg R = %d\n", dataReg_R) @[Router.scala 88:13]
    printf(clock, and(and(and(and(and(and(and(UInt<1>("h1"), io_in_U_read), eq(io_out_U_write, UInt<1>("h0"))), eq(io_out_D_write, UInt<1>("h0"))), eq(io_out_L_write, UInt<1>("h0"))), io_out_R_write), _T_49), UInt<1>("h1")), "out_r_dout = %d\n", io_out_R_dout) @[Router.scala 93:13]
    printf(clock, and(and(and(and(and(and(and(UInt<1>("h1"), io_in_U_read), eq(io_out_U_write, UInt<1>("h0"))), eq(io_out_D_write, UInt<1>("h0"))), eq(io_out_L_write, UInt<1>("h0"))), io_out_R_write), _T_51), UInt<1>("h1")), "datareg R = %d\n", dataReg_R) @[Router.scala 94:13]
    printf(clock, and(and(and(and(UInt<1>("h1"), eq(io_in_U_read, UInt<1>("h0"))), io_in_D_read), _T_53), UInt<1>("h1")), "D = %d\n", io_in_D_read) @[Router.scala 100:11]
    printf(clock, and(and(and(and(UInt<1>("h1"), eq(io_in_U_read, UInt<1>("h0"))), io_in_D_read), _T_55), UInt<1>("h1")), "Data D = %d\n", io_in_D_din) @[Router.scala 101:11]
    printf(clock, and(and(and(and(and(UInt<1>("h1"), eq(io_in_U_read, UInt<1>("h0"))), eq(io_in_D_read, UInt<1>("h0"))), io_in_L_read), _T_57), UInt<1>("h1")), "L = %d\n", io_in_L_read) @[Router.scala 106:11]
    printf(clock, and(and(and(and(and(UInt<1>("h1"), eq(io_in_U_read, UInt<1>("h0"))), eq(io_in_D_read, UInt<1>("h0"))), io_in_L_read), _T_59), UInt<1>("h1")), "Data L = %d\n", io_in_L_din) @[Router.scala 107:11]
    printf(clock, and(and(and(and(and(and(UInt<1>("h1"), eq(io_in_U_read, UInt<1>("h0"))), eq(io_in_D_read, UInt<1>("h0"))), eq(io_in_L_read, UInt<1>("h0"))), io_in_R_read), _T_61), UInt<1>("h1")), "R = %d\n", io_in_R_read) @[Router.scala 112:11]
    printf(clock, and(and(and(and(and(and(UInt<1>("h1"), eq(io_in_U_read, UInt<1>("h0"))), eq(io_in_D_read, UInt<1>("h0"))), eq(io_in_L_read, UInt<1>("h0"))), io_in_R_read), _T_63), UInt<1>("h1")), "Data R = %d\n", io_in_R_din) @[Router.scala 113:11]
